<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-J8WK9DFKY6"></script><script>
							if (window.location.host !== "localhost") {
								window.dataLayer = window.dataLayer || [];
								function gtag(){dataLayer.push(arguments);}
								gtag('js', new Date());
								
								gtag('config', 'G-J8WK9DFKY6');
							}</script><link rel="shortcut icon" type="image/png" href="/fav-me.png"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="robots" content="follow, index"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Story of Building XCalc - Sahithyan&#x27;s Blog</title><meta name="description" content="Sharing how I built XCalc, an extended calculator."/><link rel="alternate" href="https://sahithyandev.github.io/feed.xml" type="application/rss+xml" title="RSS feed"/><link rel="canonical" href="https://sahithyandev.github.io/"/><meta name="twitter:title" value="Story of Building XCalc - Sahithyan&#x27;s Blog"/><meta name="twitter:card" value="summary"/><meta name="twitter:description" value="Sharing how I built XCalc, an extended calculator."/><meta name="twitter:creator" value="@sahithyandev"/><meta property="og:description" content="Sharing how I built XCalc, an extended calculator."/><meta property="og:title" content="Story of Building XCalc - Sahithyan&#x27;s Blog"/><meta property="og:url" content="sahithyandev.github.io"/><meta property="og:site_name" content="Sahithyan&#x27;s Blog"/><meta property="og:image" content="https://sahithyandev.github.io/fav-me.png"/><meta property="og:image:alt" content="Sahithyan&#x27;s official profile picture"/><link rel="stylesheet" href="https://unpkg.com/prismjs@1.23.0/themes/prism-twilight.css"/><meta name="next-head-count" content="17"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-61095c13c5984b221292.js" defer=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" defer=""></script><script src="/_next/static/chunks/main-588261c74baf7142d208.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9f19b7b96cca7ce47073.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-31015a42f4d104c839cd.js" defer=""></script><script src="/_next/static/qnz3pkIpDePK3KypIRXeK/_buildManifest.js" defer=""></script><script src="/_next/static/qnz3pkIpDePK3KypIRXeK/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.0">.fWUYwB{--tw-text-opacity:1;color:rgba(96,165,250,var(--tw-text-opacity));-webkit-text-decoration:underline;text-decoration:underline;-webkit-transition-property:background-color,border-color,color,fill,stroke;transition-property:background-color,border-color,color,fill,stroke;-webkit-transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-timing-function:cubic-bezier(0.4,0,0.2,1);-webkit-transition-duration:150ms;transition-duration:150ms;}/*!sc*/
.fWUYwB:hover{--tw-text-opacity:1;color:rgba(37,99,235,var(--tw-text-opacity));}/*!sc*/
data-styled.g1[id="Anchor-sc-1qt7ss7-0"]{content:"fWUYwB,"}/*!sc*/
.iSIrHs{margin-top:2.25rem;margin-bottom:1.75rem;opacity:0.4;font-size:.75rem;}/*!sc*/
data-styled.g2[id="Footer___StyledFooter-sc-1og1k3x-0"]{content:"iSIrHs,"}/*!sc*/
.lpvqCO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:0.25rem;}/*!sc*/
data-styled.g3[id="TagsContainer__Container-sc-1awshj1-0"]{content:"lpvqCO,"}/*!sc*/
.ksRqkK::before{content:'#';margin:1px;opacity:0.5;}/*!sc*/
data-styled.g4[id="TagsContainer__Tag-sc-1awshj1-1"]{content:"ksRqkK,"}/*!sc*/
.bQOIyL{font-size:1.5rem;margin-bottom:0.25rem;margin-top:2rem;}/*!sc*/
data-styled.g5[id="BlogPost___StyledH-sc-16af8ul-0"]{content:"bQOIyL,"}/*!sc*/
.dmQPZl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:.875rem;opacity:0.9;}/*!sc*/
data-styled.g6[id="BlogPost___StyledDiv-sc-16af8ul-1"]{content:"dmQPZl,"}/*!sc*/
.ffDVSg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:0.25rem;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}/*!sc*/
data-styled.g7[id="BlogPost___StyledDiv2-sc-16af8ul-2"]{content:"ffDVSg,"}/*!sc*/
.hjOJxQ{margin-top:2rem;margin-bottom:2rem;}/*!sc*/
data-styled.g8[id="BlogPost___StyledDiv3-sc-16af8ul-3"]{content:"hjOJxQ,"}/*!sc*/
.kYJfCM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:.875rem;gap:0.5rem;}/*!sc*/
@media (min-width:640px){.kYJfCM{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;gap:0px;}}/*!sc*/
data-styled.g9[id="BlogPost___StyledDiv4-sc-16af8ul-4"]{content:"kYJfCM,"}/*!sc*/
.fbnPtA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
@media (min-width:640px){.fbnPtA{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}}/*!sc*/
data-styled.g10[id="BlogPost___StyledDiv5-sc-16af8ul-5"]{content:"fbnPtA,"}/*!sc*/
.FhPAp{opacity:0.7;margin-right:0.5rem;}/*!sc*/
data-styled.g11[id="BlogPost___StyledSpan-sc-16af8ul-6"]{content:"FhPAp,"}/*!sc*/
.lnmJmZ{margin-top:0.25rem;}/*!sc*/
data-styled.g21[id="TableOfContents___StyledLi-sc-1kfho2j-0"]{content:"lnmJmZ,"}/*!sc*/
.jkheMm{list-style-type:disc;padding-left:1.25rem;}/*!sc*/
data-styled.g22[id="TableOfContents___StyledUl-sc-1kfho2j-1"]{content:"jkheMm,"}/*!sc*/
.dCRUhX{margin-bottom:0.75rem;}/*!sc*/
data-styled.g23[id="TableOfContents___StyledH-sc-1kfho2j-2"]{content:"dCRUhX,"}/*!sc*/
.cxkAMe{padding-left:2.25rem;}/*!sc*/
data-styled.g24[id="TableOfContents___StyledOl-sc-1kfho2j-3"]{content:"cxkAMe,"}/*!sc*/
.ZgiSb{margin-bottom:1.5rem;}/*!sc*/
@media (min-width:640px){.ZgiSb{position:relative;}}/*!sc*/
@media (min-width:640px){.ZgiSb{left:-24px;}}/*!sc*/
data-styled.g25[id="linkableHead__HeadElement-sc-xvij9o-0"]{content:"ZgiSb,"}/*!sc*/
.llILIU{font-weight:500;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;opacity:0.6;margin-right:0.5rem;font-size:1.1em;}/*!sc*/
.llILIU:hover{opacity:0.8;}/*!sc*/
data-styled.g26[id="linkableHead__LinkHashtag-sc-xvij9o-1"]{content:"llILIU,"}/*!sc*/
.cCzbeI{margin-left:0px;max-width:65ch;}/*!sc*/
data-styled.g27[id="BlockQuote___StyledFigure-sc-bdclt4-0"]{content:"cCzbeI,"}/*!sc*/
.kPzQAY{margin-left:1rem;}/*!sc*/
data-styled.g28[id="BlockQuote___StyledBlockquote-sc-bdclt4-1"]{content:"kPzQAY,"}/*!sc*/
.edFvqj{text-align:right;}/*!sc*/
.edFvqj:before{content:"— ";}/*!sc*/
data-styled.g29[id="BlockQuote___StyledFigcaption-sc-bdclt4-2"]{content:"edFvqj,"}/*!sc*/
.jCNCEA{display:block;margin-top:0px;margin-bottom:0px;margin-left:auto;margin-right:auto;max-width:100%;max-height:600px;}/*!sc*/
data-styled.g31[id="Image___StyledImg-sc-m32qy-0"]{content:"jCNCEA,"}/*!sc*/
.bHPLYB{line-height:25px;}/*!sc*/
data-styled.g32[id="Paragraph-sc-ukp99m-0"]{content:"bHPLYB,"}/*!sc*/
.fgULCl{font-weight:600;-webkit-text-decoration:underline solid white 2px;text-decoration:underline solid white 2px;}/*!sc*/
data-styled.g34[id="Strong-sc-w34mri-0"]{content:"fgULCl,"}/*!sc*/
@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url("/fonts/Inter-Regular.ttf");}/*!sc*/
@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url("/fonts/Inter-Medium.ttf");}/*!sc*/
@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url("/fonts/Inter-SemiBold.ttf");}/*!sc*/
@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url("/fonts/Inter-Bold.ttf");}/*!sc*/
:root{font-size:18px;color-scheme:dark;--dark:#131315;--light:#FFFBFE;--main:#FAF33E;--main-half-opacity:#faf33e70;--secondary:#087F8C;--post-card-bg:hsl(236,10%,25%);--post-card-bg-hover:hsl(220,12%,35%);--social-twitter:hsl(203,89%,42%);}/*!sc*/
*{box-sizing:border-box;}/*!sc*/
html,body{margin:auto;--tw-bg-opacity:1;background-color:rgba(19,19,21,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,251,254,var(--tw-text-opacity));max-width:48rem;font-family:Inter,ui-sans-serif,sans-serif;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;width:72vw;}/*!sc*/
@media (max-width:600px){html,body{max-width:90vw;width:auto;}}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;border-bottom-width:0px;color:inherit;}/*!sc*/
nav{margin-top:0.5rem;margin-bottom:1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.nav--logo{text-transform:uppercase;font-weight:700;font-size:1.25rem;-webkit-letter-spacing:-0.025em;-moz-letter-spacing:-0.025em;-ms-letter-spacing:-0.025em;letter-spacing:-0.025em;}/*!sc*/
.nav--links-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:1.25rem;list-style-type:none;padding:0px;}/*!sc*/
.nav--link{opacity:0.6;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-timing-function:cubic-bezier(0.4,0,0.2,1);-webkit-transition-duration:150ms;transition-duration:150ms;}/*!sc*/
.nav--link:hover{opacity:1;}/*!sc*/
data-styled.g35[id="sc-global-dyxGsd1"]{content:"sc-global-dyxGsd1,"}/*!sc*/
</style></head><body><div id="__next"><nav><a href="/" class="nav--logo">Sahithyan</a><ul class="nav--links-container"><li class="nav--link"><a href="/posts">Posts</a></li><li class="nav--link"><a href="/about">About</a></li></ul></nav><main><h1 class="BlogPost___StyledH-sc-16af8ul-0 bQOIyL">Story of Building XCalc</h1><div class="BlogPost___StyledDiv-sc-16af8ul-1 dmQPZl"><span>10 June 2021</span><div class="BlogPost___StyledDiv2-sc-16af8ul-2 ffDVSg"><span>7<!-- --> min read</span><div class="TagsContainer__Container-sc-1awshj1-0 lpvqCO"><span class="TagsContainer__Tag-sc-1awshj1-1 ksRqkK">experience</span><span class="TagsContainer__Tag-sc-1awshj1-1 ksRqkK">project</span></div></div></div><div class="BlogPost___StyledDiv3-sc-16af8ul-3 hjOJxQ"><article><section><h3 class="TableOfContents___StyledH-sc-1kfho2j-2 dCRUhX">Table Of Contents</h3><ol class="TableOfContents___StyledOl-sc-1kfho2j-3 cxkAMe"><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">Why I built XCalc?</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">How I built it</a><ul class="TableOfContents___StyledUl-sc-1kfho2j-1 jkheMm"><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">TypeScript</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">UI Design</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">React</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">Sass</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">Off-thread evaluations</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">Offline support</a></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">WebAssembly (AssemblyScript)</a></li></ul></li><li class="TableOfContents___StyledLi-sc-1kfho2j-0 lnmJmZ"><a href="[object Object]" class="Anchor-sc-1qt7ss7-0 fWUYwB">Conclusion</a></li></ol></section><h2 id="why-i-built-xcalc?" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#why-i-built-xcalc?">#</a><span>Why I built XCalc?</span></h2><p class="Paragraph-sc-ukp99m-0 bHPLYB">We all have a pre-installed calculator app on our devices (except iPad users). They provide us with basic and some advanced operations. For the majority of people, in most cases, that is more than enough.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">But, as a Math lover, sometimes, I ran into some problems which can be solved easily on a computer (or a calculator), but still not included in any of these existing calculator apps.
For example, prime factorization. It&#x27;s easy for a small set of numbers (like 500, 360). But on a computer, it can be done in seconds (or even milliseconds). But I have never seen that functionality included in a calculator. And this is only one example. This felt like a gap for me. That’s why I decided to develop a calculator app that has these extra functions. That’s what XCalc is.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">Note that I only added the functions that are not available in those existing calculator apps. And I intentionally left out the functions like log or sqrt, because they are already available on the pre-installed calculator apps.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">So, what functions did I add? <a target="_blank" rel="noopener noreferrer" href="https://x-calc.vercel.app/help" class="Anchor-sc-1qt7ss7-0 fWUYwB">Here</a> is a list. </p><ul><li>is-prime: checks if a number is a prime number</li><li>factors: finds all the factors of a number</li><li>lcm: finds the least common multiple of a list a numbers</li><li>gcd: finds the greatest common divisor of a list a numbers</li><li>factorial: finds the n-th factorial</li><li>ratio: finds the minimum ratio in a list of numbers</li><li>nck: finds the <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Binomial_coefficient" class="Anchor-sc-1qt7ss7-0 fWUYwB">binomial coefficient</a> denoted by (n k)</li><li>prime-factorize: finds the prime factorization of the given number</li></ul><p class="Paragraph-sc-ukp99m-0 bHPLYB">If you like the idea of XCalc, you can try it <a target="_blank" rel="noopener noreferrer" href="https://bit.ly/xcalc-web" class="Anchor-sc-1qt7ss7-0 fWUYwB">here</a>. From the website, XCalc can be installed to your devices (I don’t know if it is supported on all operating systems and all browsers).
And <a target="_blank" rel="noopener noreferrer" href="https://bit.ly/xcalc-app" class="Anchor-sc-1qt7ss7-0 fWUYwB">XCalc is available on Google Play Store</a> as well.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">If you are interested to see how XCalc is coded, Good news, XCalc is <a target="_blank" rel="noopener noreferrer" href="http://github.com/sahithyandev/xcalc" class="Anchor-sc-1qt7ss7-0 fWUYwB">open-sourced</a>. If you find it hard to understand the code, let me know about that.</p><h2 id="how-i-built-it" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#how-i-built-it">#</a><span>How I built it</span></h2><h3 id="typescript" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#typescript">#</a><span><a target="_blank" rel="noopener noreferrer" href="https://typescriptlang.org" class="Anchor-sc-1qt7ss7-0 fWUYwB">TypeScript</a></span></h3><p class="Paragraph-sc-ukp99m-0 bHPLYB">TypeScript is a strict syntactical superset of JavaScript and adds optional strict typing to the language. It compiles to JavaScript.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">I decided to bring it into the code base mainly for two reasons. The important one is <strong class="Strong-sc-w34mri-0 fgULCl">prevention of many little bugs</strong>. As TypeScript allows me to set types to everything, now I don’t have to be too concerned about the code now. I can be confident (in most cases) that I am not gonna run into any runtime errors.
And the next one is, <strong class="Strong-sc-w34mri-0 fgULCl">reduced mind-overloading</strong>. Which means, now, I don’t have to memorize the function parameter types and object structures. My IDE&#x27;s intellisense takes care of that.</p><h3 id="ui-design" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#ui-design">#</a><span>UI Design</span></h3><p class="Paragraph-sc-ukp99m-0 bHPLYB">It&#x27;s highly recommended to design the UI before coding it. <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=ZyAsNw7XZ1c" class="Anchor-sc-1qt7ss7-0 fWUYwB">Here&#x27;s why</a>. </p><p class="Paragraph-sc-ukp99m-0 bHPLYB">Hence, I decided to design the whole UI first (or at least try). I opened up <a target="_blank" rel="noopener noreferrer" href="https://figma.com" class="Anchor-sc-1qt7ss7-0 fWUYwB">Figma</a> and gave it a try. Here&#x27;s what I designed.</p><img alt="XCalc Old UI design" src="/post__images/building-xcalc/xcalc-old-design.jpg" loading="lazy" class="Image___StyledImg-sc-m32qy-0 jCNCEA"/><p class="Paragraph-sc-ukp99m-0 bHPLYB">I went with it. Because, the important thing about XCalc is its functionality; not the UI.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">When I made XCalc completely working, (as always) I stopped working on it. After about 3 months, I came back. I decided to rewrite the whole app with new (better) technologies. As a part of that, I redesigned the UI. It turned out to be pretty great.</p><img alt="XCalc New UI design" src="/post__images/building-xcalc/xcalc-new-design.png" loading="lazy" class="Image___StyledImg-sc-m32qy-0 jCNCEA"/><h3 id="react" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#react">#</a><span><a target="_blank" rel="noopener noreferrer" href="https://reactjs.org" class="Anchor-sc-1qt7ss7-0 fWUYwB">React</a></span></h3>When I first started developing XCalc, I didn&#x27;t use any front-end libraries. I wanted to write all the code by myself. The state of the app (the input), the dynamic UI rendering were all done by the code I wrote. At first, It worked without any problems.  But when I came back after 3 months, I understood none of it. That&#x27;s when I realized that I should have used a front-end library.<p class="Paragraph-sc-ukp99m-0 bHPLYB">When I started rewriting the app, I chose to go with React, which is my favorite front-end library.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">To be honest, the React code is not that good either. But it is a lot more readable than my code.</p><h3 id="sass" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#sass">#</a><span><a target="_blank" rel="noopener noreferrer" href="https://sass-lang.com" class="Anchor-sc-1qt7ss7-0 fWUYwB">Sass</a></span></h3>Sass is a pre-compiler for CSS. It provides some additional functionalities which results in a better developer experience. That’s the one and only reason I decided to use Sass.<h3 id="off-thread-evaluations" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#off-thread-evaluations">#</a><span>Off-thread evaluations</span></h3>By default, the browser uses a single thread (&quot;main thread&quot;) to run all the processes of a website. This is where the layout and paint are done. This is where the user events get processed. And also, this is where, the javascript runs. Which means, long-running JavaScript will block the thread, leading to an unresponsive page (== bad user experience)<p class="Paragraph-sc-ukp99m-0 bHPLYB">This is where web workers come into play. Web workers are a simple means for web content to run scripts on background threads. This will make sure the main thread is free from getting stuck. <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" class="Anchor-sc-1qt7ss7-0 fWUYwB">Learn more about web workers on MDN</a>.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">XCalc never blocked the main thread (on my laptop and my phone), it worked without any problems. There were no performance issues at all. But, on the low-end phones, performance issues might rise.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">And, it&#x27;s a good idea to use the main thread only for UI work. That&#x27;s why the main thread is called &quot;UI thread&quot; on other platforms. So, I moved the evaluations of the input to a web worker. </p><h3 id="offline-support" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#offline-support">#</a><span>Offline support</span></h3><figure class="BlockQuote___StyledFigure-sc-bdclt4-0 cCzbeI"><blockquote cite="https://developers.google.com/web/ilt/pwa/introduction-to-service-worker#what_is_a_service_worker" class="BlockQuote___StyledBlockquote-sc-bdclt4-1 kPzQAY">Service workers are a special type of web workers. A service worker is essentially a JavaScript file that runs separately from the main browser thread (or UI thread), intercepting network requests, caching or retrieving resources from the cache, and delivering push messages.</blockquote><figcaption class="BlockQuote___StyledFigcaption-sc-bdclt4-2 edFvqj"><cite>Google Developers Blog</cite></figcaption></figure><p class="Paragraph-sc-ukp99m-0 bHPLYB">With the use of service workers, web apps can now deliver a custom offline experience. For example, YouTube and Spotify have a custom offline page. While searching for more examples, I found this <a target="_blank" rel="noopener noreferrer" href="https://sudoku.jull.dev/" class="Anchor-sc-1qt7ss7-0 fWUYwB">awesome sudoku game</a>, which is completely available for offline use.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">Like that sudoku game, XCalc doesn’t need an active internet connection to work. So, as you may guess, I wanted to make XCalc completely offline, just like that game. So, I added a service worker to do that. It pre-caches all the required resources. After that, the resources will be loaded from the cache.</p><h3 id="webassembly-(assemblyscript)" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#webassembly-(assemblyscript)">#</a><span><a target="_blank" rel="noopener noreferrer" href="https://webassembly.org" class="Anchor-sc-1qt7ss7-0 fWUYwB">WebAssembly</a> <!-- -->(<a target="_blank" rel="noopener noreferrer" href="https://www.assemblyscript.org" class="Anchor-sc-1qt7ss7-0 fWUYwB">AssemblyScript</a>)</span></h3><p class="Paragraph-sc-ukp99m-0 bHPLYB">WebAssembly (WASM, in short) is a new type of code that can be run inside web browsers. It is a low-level assembly-like language which runs with near-native performance.
But, <strong class="Strong-sc-w34mri-0 fgULCl">keep in mind that WASM is not intended to replace JS, and it won’t</strong>.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">WebAssembly first appeared in 2017, but I came to know about it recently. I decided to use it in XCalc. I know that WebAssembly wasn&#x27;t meant to be used on a calculator app like XCalc, But I chose to use it just for the sake of learning.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">C, C++, Rust can be compiled to WASM. But I don&#x27;t know any of them before. And I didn&#x27;t want to learn them. Fortunately, I came to know about AssemblyScript. AssemblyScript is a typescript-based language which compiles to WASM. With the familiar syntax, AssemblyScript appeared to be the best option for me. So, I chose to use it.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">Getting started with AssemblyScript was a little hard for me. But, maybe, that would have been easy if I read the documentation clearly.</p><h2 id="conclusion" class="linkableHead__HeadElement-sc-xvij9o-0 ZgiSb"><a class="linkableHead__LinkHashtag-sc-xvij9o-1 llILIU reset" href="/post/building-xcalc#conclusion">#</a><span>Conclusion</span></h2>Overall, working on XCalc was a really great experience for me. There was a lot of fun and learning.<p class="Paragraph-sc-ukp99m-0 bHPLYB">Here is the main thing I learnt while building XCalc.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB"><strong class="Strong-sc-w34mri-0 fgULCl">Read the documentation clearly</strong>. This is one of my bad habits. I don&#x27;t read the documentation completely. I always miss to notice something in every documentation I read. Because of that, I have even spent a significant amount of time, trying to find how to do a specific thing (which is already explained in the documentation). So, when you are reading a documentation for something, make sure to read it through. Don’t skip anything. When you get stuck with an error or bug, before starting searching it on google, make sure to check the official documentation.</p><p class="Paragraph-sc-ukp99m-0 bHPLYB">If you have read this much, Thank you for your time. Have any questions? Feel free to <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/sahithyandev" class="Anchor-sc-1qt7ss7-0 fWUYwB">reach me out on Twitter</a></p></article></div></main><div class="BlogPost___StyledDiv4-sc-16af8ul-4 kYJfCM"><div><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/search?q=https://sahithyandev.github.io/post/building-xcalc" class="Anchor-sc-1qt7ss7-0 fWUYwB">Discuss On Twitter</a></div><div class="BlogPost___StyledDiv5-sc-16af8ul-5 fbnPtA"><span class="BlogPost___StyledSpan-sc-16af8ul-6 FhPAp">Share this article on</span><div><a target="_blank" rel="noopener noreferrer" href="https://www.twitter.com/share?text=Story%20of%20Building%20XCalc%20by%20@sahithyandev&amp;url=https://sahithyandev.github.io/post/building-xcalc%7D" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="tabler-icon-brand-twitter_svg__icon tabler-icon-brand-twitter_svg__icon-tabler tabler-icon-brand-twitter_svg__icon-tabler-brand-twitter" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"></path></svg></a></div></div></div><footer class="Footer___StyledFooter-sc-1og1k3x-0 iSIrHs">© Sahithyan 2021</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"meta":{"title":"Story of Building XCalc","description":"Sharing how I built XCalc, an extended calculator.","tags":["experience","project"],"dateCreated":1623319200000,"estReadTime":7,"lastModifiedTime":1625887173408,"slug":"building-xcalc"},"sourceContent":"\n\u003cTableOfContents source={sourceContent} slug={slug} /\u003e\n\n\u003clinkableH2 slug={slug}\u003eWhy I built XCalc?\u003c/linkableH2\u003e\n\nWe all have a pre-installed calculator app on our devices (except iPad users). They provide us with basic and some advanced operations. For the majority of people, in most cases, that is more than enough.\n\nBut, as a Math lover, sometimes, I ran into some problems which can be solved easily on a computer (or a calculator), but still not included in any of these existing calculator apps.\nFor example, prime factorization. It's easy for a small set of numbers (like 500, 360). But on a computer, it can be done in seconds (or even milliseconds). But I have never seen that functionality included in a calculator. And this is only one example. This felt like a gap for me. That’s why I decided to develop a calculator app that has these extra functions. That’s what XCalc is.\n\n\nNote that I only added the functions that are not available in those existing calculator apps. And I intentionally left out the functions like log or sqrt, because they are already available on the pre-installed calculator apps.\n\nSo, what functions did I add? [Here](https://x-calc.vercel.app/help) is a list. \n - is-prime: checks if a number is a prime number\n - factors: finds all the factors of a number\n - lcm: finds the least common multiple of a list a numbers\n - gcd: finds the greatest common divisor of a list a numbers\n - factorial: finds the n-th factorial\n - ratio: finds the minimum ratio in a list of numbers\n - nck: finds the [binomial coefficient](https://en.wikipedia.org/wiki/Binomial_coefficient) denoted by (n k)\n - prime-factorize: finds the prime factorization of the given number\n\nIf you like the idea of XCalc, you can try it [here](https://bit.ly/xcalc-web). From the website, XCalc can be installed to your devices (I don’t know if it is supported on all operating systems and all browsers).\nAnd [XCalc is available on Google Play Store](https://bit.ly/xcalc-app) as well.\n\nIf you are interested to see how XCalc is coded, Good news, XCalc is [open-sourced](http://github.com/sahithyandev/xcalc). If you find it hard to understand the code, let me know about that.\n\n\u003clinkableH2 slug={slug}\u003eHow I built it\u003c/linkableH2\u003e\n\n\u003clinkableH3 slug={slug}\u003e\n\t\u003cAnchor href=\"https://typescriptlang.org\"\u003eTypeScript\u003c/Anchor\u003e\n\u003c/linkableH3\u003e\n\nTypeScript is a strict syntactical superset of JavaScript and adds optional strict typing to the language. It compiles to JavaScript.\n\nI decided to bring it into the code base mainly for two reasons. The important one is **prevention of many little bugs**. As TypeScript allows me to set types to everything, now I don’t have to be too concerned about the code now. I can be confident (in most cases) that I am not gonna run into any runtime errors.\nAnd the next one is, **reduced mind-overloading**. Which means, now, I don’t have to memorize the function parameter types and object structures. My IDE's intellisense takes care of that.\n\n\u003clinkableH3 slug={slug}\u003eUI Design\u003c/linkableH3\u003e\n\nIt's highly recommended to design the UI before coding it. [Here's why](https://www.youtube.com/watch?v=ZyAsNw7XZ1c). \n\nHence, I decided to design the whole UI first (or at least try). I opened up [Figma](https://figma.com) and gave it a try. Here's what I designed.\n\n\u003cimg alt=\"XCalc Old UI design\" src=\"/post__images/building-xcalc/xcalc-old-design.jpg\" /\u003e\n\nI went with it. Because, the important thing about XCalc is its functionality; not the UI.\n\n\nWhen I made XCalc completely working, (as always) I stopped working on it. After about 3 months, I came back. I decided to rewrite the whole app with new (better) technologies. As a part of that, I redesigned the UI. It turned out to be pretty great.\n\n\u003cimg alt=\"XCalc New UI design\" src=\"/post__images/building-xcalc/xcalc-new-design.png\" /\u003e\n\n\u003clinkableH3 slug={slug}\u003e\u003cAnchor href=\"https://reactjs.org\"\u003eReact\u003c/Anchor\u003e\u003c/linkableH3\u003e\nWhen I first started developing XCalc, I didn't use any front-end libraries. I wanted to write all the code by myself. The state of the app (the input), the dynamic UI rendering were all done by the code I wrote. At first, It worked without any problems.  But when I came back after 3 months, I understood none of it. That's when I realized that I should have used a front-end library.\n\nWhen I started rewriting the app, I chose to go with React, which is my favorite front-end library.\n\nTo be honest, the React code is not that good either. But it is a lot more readable than my code.\n\n\u003clinkableH3 slug={slug}\u003e\u003cAnchor href=\"https://sass-lang.com\"\u003eSass\u003c/Anchor\u003e\u003c/linkableH3\u003e\nSass is a pre-compiler for CSS. It provides some additional functionalities which results in a better developer experience. That’s the one and only reason I decided to use Sass.\n\n\u003clinkableH3 slug={slug}\u003eOff-thread evaluations\u003c/linkableH3\u003e\nBy default, the browser uses a single thread (\"main thread\") to run all the processes of a website. This is where the layout and paint are done. This is where the user events get processed. And also, this is where, the javascript runs. Which means, long-running JavaScript will block the thread, leading to an unresponsive page (== bad user experience)\n\nThis is where web workers come into play. Web workers are a simple means for web content to run scripts on background threads. This will make sure the main thread is free from getting stuck. [Learn more about web workers on MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers).\n\nXCalc never blocked the main thread (on my laptop and my phone), it worked without any problems. There were no performance issues at all. But, on the low-end phones, performance issues might rise.\n\nAnd, it's a good idea to use the main thread only for UI work. That's why the main thread is called \"UI thread\" on other platforms. So, I moved the evaluations of the input to a web worker. \n\n\u003clinkableH3 slug={slug}\u003eOffline support\u003c/linkableH3\u003e\n\u003cBlockQuote citationText=\"Google Developers Blog\" citationLink=\"https://developers.google.com/web/ilt/pwa/introduction-to-service-worker#what_is_a_service_worker\"\u003e\nService workers are a special type of web workers. A service worker is essentially a JavaScript file that runs separately from the main browser thread (or UI thread), intercepting network requests, caching or retrieving resources from the cache, and delivering push messages.\n\u003c/BlockQuote\u003e\n\nWith the use of service workers, web apps can now deliver a custom offline experience. For example, YouTube and Spotify have a custom offline page. While searching for more examples, I found this [awesome sudoku game](https://sudoku.jull.dev/), which is completely available for offline use.\n\nLike that sudoku game, XCalc doesn’t need an active internet connection to work. So, as you may guess, I wanted to make XCalc completely offline, just like that game. So, I added a service worker to do that. It pre-caches all the required resources. After that, the resources will be loaded from the cache.\n\n\u003clinkableH3 slug={slug}\u003e\n\u003cAnchor href=\"https://webassembly.org\"\u003e\n\t\tWebAssembly\n\t \u003c/Anchor\u003e{\" \"}\n\t(\u003cAnchor href=\"https://www.assemblyscript.org\"\u003eAssemblyScript\u003c/Anchor\u003e)\n\u003c/linkableH3\u003e\n\nWebAssembly (WASM, in short) is a new type of code that can be run inside web browsers. It is a low-level assembly-like language which runs with near-native performance.\nBut, **keep in mind that WASM is not intended to replace JS, and it won’t**.\n\nWebAssembly first appeared in 2017, but I came to know about it recently. I decided to use it in XCalc. I know that WebAssembly wasn't meant to be used on a calculator app like XCalc, But I chose to use it just for the sake of learning.\n\nC, C++, Rust can be compiled to WASM. But I don't know any of them before. And I didn't want to learn them. Fortunately, I came to know about AssemblyScript. AssemblyScript is a typescript-based language which compiles to WASM. With the familiar syntax, AssemblyScript appeared to be the best option for me. So, I chose to use it.\n\nGetting started with AssemblyScript was a little hard for me. But, maybe, that would have been easy if I read the documentation clearly.\n\n\u003clinkableH2 slug={slug}\u003eConclusion\u003c/linkableH2\u003e\nOverall, working on XCalc was a really great experience for me. There was a lot of fun and learning.\n\nHere is the main thing I learnt while building XCalc.\n\n**Read the documentation clearly**. This is one of my bad habits. I don't read the documentation completely. I always miss to notice something in every documentation I read. Because of that, I have even spent a significant amount of time, trying to find how to do a specific thing (which is already explained in the documentation). So, when you are reading a documentation for something, make sure to read it through. Don’t skip anything. When you get stuck with an error or bug, before starting searching it on google, make sure to check the official documentation.\n\nIf you have read this much, Thank you for your time. Have any questions? Feel free to [reach me out on Twitter](https://twitter.com/sahithyandev)\n","mdxSource":{"compiledSource":"var p=Object.defineProperty,d=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var l=(e,t,a)=\u003et in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,o=(e,t)=\u003e{for(var a in t||(t={}))s.call(t,a)\u0026\u0026l(e,a,t[a]);if(i)for(var a of i(t))r.call(t,a)\u0026\u0026l(e,a,t[a]);return e},c=(e,t)=\u003ed(e,u(t));var h=(e,t)=\u003e{var a={};for(var n in e)s.call(e,n)\u0026\u0026t.indexOf(n)\u003c0\u0026\u0026(a[n]=e[n]);if(e!=null\u0026\u0026i)for(var n of i(e))t.indexOf(n)\u003c0\u0026\u0026r.call(e,n)\u0026\u0026(a[n]=e[n]);return a};const makeShortcode=e=\u003efunction(a){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",o({},a))},TableOfContents=makeShortcode(\"TableOfContents\"),Anchor=makeShortcode(\"Anchor\"),BlockQuote=makeShortcode(\"BlockQuote\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var n=a,{components:e}=n,t=h(n,[\"components\"]);return mdx(MDXLayout,c(o(o({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(TableOfContents,{source:sourceContent,slug,mdxType:\"TableOfContents\"}),mdx(\"linkableH2\",{slug},\"Why I built XCalc?\"),mdx(\"p\",null,\"We all have a pre-installed calculator app on our devices (except iPad users). They provide us with basic and some advanced operations. For the majority of people, in most cases, that is more than enough.\"),mdx(\"p\",null,`But, as a Math lover, sometimes, I ran into some problems which can be solved easily on a computer (or a calculator), but still not included in any of these existing calculator apps.\nFor example, prime factorization. It's easy for a small set of numbers (like 500, 360). But on a computer, it can be done in seconds (or even milliseconds). But I have never seen that functionality included in a calculator. And this is only one example. This felt like a gap for me. That\\u2019s why I decided to develop a calculator app that has these extra functions. That\\u2019s what XCalc is.`),mdx(\"p\",null,\"Note that I only added the functions that are not available in those existing calculator apps. And I intentionally left out the functions like log or sqrt, because they are already available on the pre-installed calculator apps.\"),mdx(\"p\",null,\"So, what functions did I add? \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://x-calc.vercel.app/help\"}),\"Here\"),\" is a list. \"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"is-prime: checks if a number is a prime number\"),mdx(\"li\",{parentName:\"ul\"},\"factors: finds all the factors of a number\"),mdx(\"li\",{parentName:\"ul\"},\"lcm: finds the least common multiple of a list a numbers\"),mdx(\"li\",{parentName:\"ul\"},\"gcd: finds the greatest common divisor of a list a numbers\"),mdx(\"li\",{parentName:\"ul\"},\"factorial: finds the n-th factorial\"),mdx(\"li\",{parentName:\"ul\"},\"ratio: finds the minimum ratio in a list of numbers\"),mdx(\"li\",{parentName:\"ul\"},\"nck: finds the \",mdx(\"a\",o({parentName:\"li\"},{href:\"https://en.wikipedia.org/wiki/Binomial_coefficient\"}),\"binomial coefficient\"),\" denoted by (n k)\"),mdx(\"li\",{parentName:\"ul\"},\"prime-factorize: finds the prime factorization of the given number\")),mdx(\"p\",null,\"If you like the idea of XCalc, you can try it \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://bit.ly/xcalc-web\"}),\"here\"),`. From the website, XCalc can be installed to your devices (I don\\u2019t know if it is supported on all operating systems and all browsers).\nAnd `,mdx(\"a\",o({parentName:\"p\"},{href:\"https://bit.ly/xcalc-app\"}),\"XCalc is available on Google Play Store\"),\" as well.\"),mdx(\"p\",null,\"If you are interested to see how XCalc is coded, Good news, XCalc is \",mdx(\"a\",o({parentName:\"p\"},{href:\"http://github.com/sahithyandev/xcalc\"}),\"open-sourced\"),\". If you find it hard to understand the code, let me know about that.\"),mdx(\"linkableH2\",{slug},\"How I built it\"),mdx(\"linkableH3\",{slug},mdx(Anchor,{href:\"https://typescriptlang.org\",mdxType:\"Anchor\"},\"TypeScript\")),mdx(\"p\",null,\"TypeScript is a strict syntactical superset of JavaScript and adds optional strict typing to the language. It compiles to JavaScript.\"),mdx(\"p\",null,\"I decided to bring it into the code base mainly for two reasons. The important one is \",mdx(\"strong\",{parentName:\"p\"},\"prevention of many little bugs\"),`. As TypeScript allows me to set types to everything, now I don\\u2019t have to be too concerned about the code now. I can be confident (in most cases) that I am not gonna run into any runtime errors.\nAnd the next one is, `,mdx(\"strong\",{parentName:\"p\"},\"reduced mind-overloading\"),\". Which means, now, I don\\u2019t have to memorize the function parameter types and object structures. My IDE's intellisense takes care of that.\"),mdx(\"linkableH3\",{slug},\"UI Design\"),mdx(\"p\",null,\"It's highly recommended to design the UI before coding it. \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://www.youtube.com/watch?v=ZyAsNw7XZ1c\"}),\"Here's why\"),\". \"),mdx(\"p\",null,\"Hence, I decided to design the whole UI first (or at least try). I opened up \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://figma.com\"}),\"Figma\"),\" and gave it a try. Here's what I designed.\"),mdx(\"img\",{alt:\"XCalc Old UI design\",src:\"/post__images/building-xcalc/xcalc-old-design.jpg\"}),mdx(\"p\",null,\"I went with it. Because, the important thing about XCalc is its functionality; not the UI.\"),mdx(\"p\",null,\"When I made XCalc completely working, (as always) I stopped working on it. After about 3 months, I came back. I decided to rewrite the whole app with new (better) technologies. As a part of that, I redesigned the UI. It turned out to be pretty great.\"),mdx(\"img\",{alt:\"XCalc New UI design\",src:\"/post__images/building-xcalc/xcalc-new-design.png\"}),mdx(\"linkableH3\",{slug},mdx(Anchor,{href:\"https://reactjs.org\",mdxType:\"Anchor\"},\"React\")),\"When I first started developing XCalc, I didn't use any front-end libraries. I wanted to write all the code by myself. The state of the app (the input), the dynamic UI rendering were all done by the code I wrote. At first, It worked without any problems.  But when I came back after 3 months, I understood none of it. That's when I realized that I should have used a front-end library.\",mdx(\"p\",null,\"When I started rewriting the app, I chose to go with React, which is my favorite front-end library.\"),mdx(\"p\",null,\"To be honest, the React code is not that good either. But it is a lot more readable than my code.\"),mdx(\"linkableH3\",{slug},mdx(Anchor,{href:\"https://sass-lang.com\",mdxType:\"Anchor\"},\"Sass\")),\"Sass is a pre-compiler for CSS. It provides some additional functionalities which results in a better developer experience. That\\u2019s the one and only reason I decided to use Sass.\",mdx(\"linkableH3\",{slug},\"Off-thread evaluations\"),'By default, the browser uses a single thread (\"main thread\") to run all the processes of a website. This is where the layout and paint are done. This is where the user events get processed. And also, this is where, the javascript runs. Which means, long-running JavaScript will block the thread, leading to an unresponsive page (== bad user experience)',mdx(\"p\",null,\"This is where web workers come into play. Web workers are a simple means for web content to run scripts on background threads. This will make sure the main thread is free from getting stuck. \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\"}),\"Learn more about web workers on MDN\"),\".\"),mdx(\"p\",null,\"XCalc never blocked the main thread (on my laptop and my phone), it worked without any problems. There were no performance issues at all. But, on the low-end phones, performance issues might rise.\"),mdx(\"p\",null,`And, it's a good idea to use the main thread only for UI work. That's why the main thread is called \"UI thread\" on other platforms. So, I moved the evaluations of the input to a web worker. `),mdx(\"linkableH3\",{slug},\"Offline support\"),mdx(BlockQuote,{citationText:\"Google Developers Blog\",citationLink:\"https://developers.google.com/web/ilt/pwa/introduction-to-service-worker#what_is_a_service_worker\",mdxType:\"BlockQuote\"},\"Service workers are a special type of web workers. A service worker is essentially a JavaScript file that runs separately from the main browser thread (or UI thread), intercepting network requests, caching or retrieving resources from the cache, and delivering push messages.\"),mdx(\"p\",null,\"With the use of service workers, web apps can now deliver a custom offline experience. For example, YouTube and Spotify have a custom offline page. While searching for more examples, I found this \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://sudoku.jull.dev/\"}),\"awesome sudoku game\"),\", which is completely available for offline use.\"),mdx(\"p\",null,\"Like that sudoku game, XCalc doesn\\u2019t need an active internet connection to work. So, as you may guess, I wanted to make XCalc completely offline, just like that game. So, I added a service worker to do that. It pre-caches all the required resources. After that, the resources will be loaded from the cache.\"),mdx(\"linkableH3\",{slug},mdx(Anchor,{href:\"https://webassembly.org\",mdxType:\"Anchor\"},\"WebAssembly\"),\" \",\"(\",mdx(Anchor,{href:\"https://www.assemblyscript.org\",mdxType:\"Anchor\"},\"AssemblyScript\"),\")\"),mdx(\"p\",null,`WebAssembly (WASM, in short) is a new type of code that can be run inside web browsers. It is a low-level assembly-like language which runs with near-native performance.\nBut, `,mdx(\"strong\",{parentName:\"p\"},\"keep in mind that WASM is not intended to replace JS, and it won\\u2019t\"),\".\"),mdx(\"p\",null,\"WebAssembly first appeared in 2017, but I came to know about it recently. I decided to use it in XCalc. I know that WebAssembly wasn't meant to be used on a calculator app like XCalc, But I chose to use it just for the sake of learning.\"),mdx(\"p\",null,\"C, C++, Rust can be compiled to WASM. But I don't know any of them before. And I didn't want to learn them. Fortunately, I came to know about AssemblyScript. AssemblyScript is a typescript-based language which compiles to WASM. With the familiar syntax, AssemblyScript appeared to be the best option for me. So, I chose to use it.\"),mdx(\"p\",null,\"Getting started with AssemblyScript was a little hard for me. But, maybe, that would have been easy if I read the documentation clearly.\"),mdx(\"linkableH2\",{slug},\"Conclusion\"),\"Overall, working on XCalc was a really great experience for me. There was a lot of fun and learning.\",mdx(\"p\",null,\"Here is the main thing I learnt while building XCalc.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Read the documentation clearly\"),\". This is one of my bad habits. I don't read the documentation completely. I always miss to notice something in every documentation I read. Because of that, I have even spent a significant amount of time, trying to find how to do a specific thing (which is already explained in the documentation). So, when you are reading a documentation for something, make sure to read it through. Don\\u2019t skip anything. When you get stuck with an error or bug, before starting searching it on google, make sure to check the official documentation.\"),mdx(\"p\",null,\"If you have read this much, Thank you for your time. Have any questions? Feel free to \",mdx(\"a\",o({parentName:\"p\"},{href:\"https://twitter.com/sahithyandev\"}),\"reach me out on Twitter\")))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"building-xcalc"},"buildId":"qnz3pkIpDePK3KypIRXeK","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>